# Config files modified for Omarchy customizations (keybindings, terminals, theme, scripts)

# Ghostty terminal - Uses Super keybinds + Ghostty-specific xremap overrides
~/.config/ghostty/config

# Alacritty terminal - tmux default shell, palette overrides, custom keybinds
~/.config/alacritty/alacritty.toml

# Tmux - prefix remap, plugins, history
~/.tmux.conf

# Hyprland bindings - Super+Q closes window, some keys route through ghostty-or-universal
~/.config/hypr/bindings.conf

# Hyprland main config - dropdown terminal rules, scratchpad toggle
~/.config/hypr/hyprland.conf

# Hyprland autostart - Launches xremap on login
~/.config/hypr/autostart.conf

# xremap - GLOBAL Mac-style keybindings (Super→Ctrl for ALL apps)
#          plus Ghostty-only overrides for Super+A/C/V/W/D
# No app exclusions - works everywhere uniformly
~/.config/xremap/config.yml

# xremap systemd service
~/.config/systemd/user/xremap.service

# Omarchy theme override - active border gradient
~/.config/omarchy/current/theme/hyprland.conf

# Zed editor - Mac-style keybindings (Cmd+A/C/V/etc, Ctrl+C for SIGINT in terminal)
~/.config/zed/keymap.json

# Zed editor - Global settings
~/.config/zed/settings.json

# Window movement script (Magnet-style: move within tiles, then across monitors)
~/.local/bin/hypr-move-window

# Scratchpad toggle helper
~/.local/bin/toggle-scratchpad-window

# Dropdown terminal toggle (Alacritty special workspace)
~/.local/bin/toggle-dropdown-terminal

# Auto-pause Spotify while dictating (hyprwhspr)
~/.local/bin/hyprwhspr-spotify-toggle

# Ghostty-aware shortcut router (for Super+C/V/W/T/N in non-Ghostty apps)
~/.local/bin/ghostty-or-universal

# System files (need sudo to recreate):
# - /etc/udev/rules.d/99-uinput.rules  (uinput permissions for xremap)
# - /etc/modules-load.d/uinput.conf    (load uinput module at boot)

# Required packages: xremap-wlroots-bin (from AUR)
#   NOTE: xremap-hypr-bin crashes with Hyprland 0.53+ due to hyprland-rs incompatibility
# Required groups: user must be in 'input' group (sudo usermod -aG input $USER)

# ============================================================================
# TROUBLESHOOTING / KEY LEARNINGS
# ============================================================================
#
# xremap + Hyprland 0.53 compatibility:
#   - Use xremap-wlroots-bin, NOT xremap-hypr-bin
#   - xremap-hypr-bin uses hyprland-rs 0.3.13 which crashes with Hyprland 0.53+
#   - wlroots variant works but app detection can be flaky on boot
#   - Solution: removed all app exclusions, xremap now remaps globally
#
# xremap startup timing:
#   - xremap may start before Wayland compositor is fully ready
#   - Symptoms: "Could not find wayland compositor" in logs
#   - Fix: systemctl --user restart xremap (after login)
#   - The service has a 2-second delay but may need manual restart sometimes
#
# Ghostty keybindings approach:
#   - Global Super→Ctrl for most apps
#   - Ghostty-only xremap overrides map Super+A/C/V/W/D to Ctrl+Shift+… so
#     terminal shortcuts like Ctrl+D / Ctrl+T stay intact
#
# Hyprland binding conflicts:
#   - Hyprland intercepts keys BEFORE xremap can remap them
#   - If Hyprland has Super+D bound, xremap never sees Super+D
#   - Solution: comment out Hyprland bindings for keys xremap should handle
#   - For hyprwhspr, add a Super+Alt+D passthrough in xremap so the combo isn't remapped

# ============================================================================
# KEYBINDINGS SUMMARY
# ============================================================================

# SYSTEM (Hyprland)
# -----------------
# Super+Q              Close window (remapped from Super+W)
# Super+Ctrl+Arrow     Move window (within tiles, then across monitors)
# Super+G              Toggle window group
# Super+Alt+Arrow      Navigate within groups
# Super+Alt+Tab        Cycle through group
# Super+Alt+D          Toggle hyprwhspr recording

# GHOSTTY TERMINAL (via xremap + Ghostty-only overrides)
# ----------------------------------------
# Cmd+A                Select all (Ctrl+Shift+A)
# Cmd+C                Copy (Ctrl+Shift+C)
# Cmd+V                Paste (Ctrl+Shift+V)
# Cmd+W                Close pane/split (Ctrl+Shift+W)
# Cmd+D                Split right (Ctrl+Shift+O)
# Cmd+Shift+D          Split down (Ctrl+Shift+E)
# Cmd+N                New window
# Cmd+[/]              Previous/next tab
# Cmd+=/–/0            Zoom in/out/reset
# Cmd+T                Intentionally unbound (Ctrl+T reserved for OpenCode)

# ALACRITTY TERMINAL
# ------------------
# Shift+Insert         Paste
# Ctrl+Insert          Copy
# Ctrl+Shift+=/–/0     Font size up/down/reset
# Shift+Enter          Send ESC+Return (for REPL accept)

# TMUX
# ----
# Prefix               Ctrl+Space (instead of Ctrl+B)

# ZED EDITOR
# ----------
# Cmd+A                Select all
# Cmd+C                Copy (Ctrl+C sends SIGINT in terminal)
# Cmd+V                Paste
# Cmd+X                Cut
# Cmd+Z                Undo
# Cmd+Shift+Z          Redo
# Cmd+S                Save
# Cmd+W                Close tab
# Cmd+T                New file
# Cmd+F                Find
# Cmd+P                File finder
# Cmd+Shift+P          Command palette
# Cmd+N                New window
# Cmd+O                Open

# ALL APPS (via xremap - GLOBAL, no exclusions)
# ---------------------------------------------
# Cmd+A/C/V/X/Z        Select all / Copy / Paste / Cut / Undo
# Cmd+Shift+Z          Redo
# Cmd+T                New tab
# Cmd+W                Close tab
# Cmd+D                Split right (Ghostty) / varies by app
# Cmd+Shift+D          Split down (Ghostty)
# Cmd+Shift+T          Reopen closed tab
# Cmd+F                Find
# Cmd+L                Address bar / Go to line
# Cmd+Left/Right       Beginning/End of line
# Cmd+Up/Down          Beginning/End of document
# Cmd+=/–/0            Zoom in/out/reset
# NOTE: Cmd+S disabled in xremap (conflicts with scratchpad toggle)
